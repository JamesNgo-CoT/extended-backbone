{"version":3,"file":"extended-backbone.min.js","sources":["extended-backbone.js"],"sourcesContent":["\"use strict\";\n\nvar _routes;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/* global _ $ Backbone CotForm */\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// EXTENDED BACKBONE COLLECTION\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/* exported ExtendedBackboneCollection */\nvar ExtendedBackboneCollection = Backbone.Collection.extend({\n  parse: function parse(response, options) {\n    return Backbone.Collection.prototype.parse.call(this, response && response.value ? response.value : response, options);\n  },\n  fetch: function fetch() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var thisQuery = _.result(this, 'query');\n\n    var optionsQuery = options.query;\n\n    if (thisQuery || optionsQuery) {\n      if (typeof query === 'string') {\n        thisQuery = thisQuery.split('&').reduce(function (accumulator, currentValue) {\n          var _currentValue$split = currentValue.split('='),\n              _currentValue$split2 = _slicedToArray(_currentValue$split, 2),\n              name = _currentValue$split2[0],\n              value = _currentValue$split2[1];\n\n          accumulator[name] = value;\n          return accumulator;\n        }, {});\n      }\n\n      if (typeof optionsQuery === 'string') {\n        optionsQuery = optionsQuery.split('&').reduce(function (accumulator, currentValue) {\n          var _currentValue$split3 = currentValue.split('='),\n              _currentValue$split4 = _slicedToArray(_currentValue$split3, 2),\n              name = _currentValue$split4[0],\n              value = _currentValue$split4[1];\n\n          accumulator[name] = value;\n          return accumulator;\n        }, {});\n      }\n\n      var urlError = function urlError() {\n        throw new Error('A \"url\" property or function must be specified');\n      };\n\n      var base = _.result(this, 'url') || urlError();\n      var query = Object.assign({}, thisQuery, optionsQuery);\n      query = Object.keys(query).map(function (key) {\n        return \"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(query[key]));\n      }).join('&');\n      options.url = \"\".concat(base, \"?\").concat(query);\n    }\n\n    return Backbone.Collection.prototype.fetch.call(this, options);\n  }\n}); ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// EXTENDED BACKBONE MODEL\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/* exported ExtendedBackboneModel */\n\nvar ExtendedBackboneModel = Backbone.Model.extend({\n  url: function url() {\n    var urlError = function urlError() {\n      throw new Error('A \"url\" property or function must be specified');\n    };\n\n    var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();\n\n    if (this.isNew()) {\n      return base;\n    }\n\n    var id = this.get(this.idAttribute);\n    return \"\".concat(base.replace(/\\/$/, ''), \"('\").concat(encodeURIComponent(id), \"')\");\n  },\n  save: function save(key, val, options) {\n    var attrs;\n\n    if (key == null || _typeof(key) === 'object') {\n      attrs = key;\n      options = val;\n    } else {\n      (attrs = {})[key] = val;\n    }\n\n    options = options || {};\n\n    if (!options.attrsInclusive) {\n      attrs = Object.assign({}, this.attributes, attrs);\n    }\n\n    delete attrs['@odata.etag'];\n    delete attrs['__CreatedOn'];\n    delete attrs['__ModifiedOn'];\n    delete attrs['__Owner'];\n    options.data = JSON.stringify(attrs);\n    return Backbone.Model.prototype.save.call(this, null, options);\n  }\n}); ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// EXTENDED BACKBONE ROUTER\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/* exported ExtendedBackboneRouter */\n\nvar ExtendedBackboneRouter = Backbone.Router.extend({\n  defaultFragment: 'home',\n  routes: (_routes = {}, _defineProperty(_routes, 'home', function home() {}), _defineProperty(_routes, '*default', 'routeDefault'), _routes),\n  hasRouted: false,\n  execute: function execute(callback, args, name) {\n    var _this = this;\n\n    var nextCleanup = function nextCleanup(cleanupFunction) {\n      if (typeof cleanupFunction === 'function') {\n        _this.cleanupFunction = cleanupFunction;\n      }\n    };\n\n    var afterCleanup = function afterCleanup(cleanupFunctionReturnValue) {\n      if (cleanupFunctionReturnValue !== false) {\n        _this.cleanupFunction = null;\n\n        if (typeof callback === 'function') {\n          var cleanupFunction = callback.call.apply(callback, [_this].concat(_toConsumableArray(args)));\n\n          if (!_this.hasRouted) {\n            _this.hasRouted = true;\n          }\n\n          if (cleanupFunction instanceof Promise) {\n            cleanupFunction.then(function (finalCleanupFunction) {\n              nextCleanup(finalCleanupFunction);\n            });\n          } else {\n            nextCleanup(cleanupFunction);\n          }\n        }\n      } else {\n        if (_this.routeDefault) {\n          _this.routeDefault();\n        }\n      }\n    };\n\n    var cleanupFunctionReturnValue;\n\n    if (this.cleanupFunction) {\n      cleanupFunctionReturnValue = this.cleanupFunction.call(this, name);\n    }\n\n    if (cleanupFunctionReturnValue instanceof Promise) {\n      cleanupFunctionReturnValue.then(function (finalCleanupFunctionReturnValue) {\n        afterCleanup(finalCleanupFunctionReturnValue);\n      });\n    } else {\n      afterCleanup(cleanupFunctionReturnValue);\n    }\n  },\n  route: function route(_route, name, callback) {\n    var oldCallback;\n\n    if (callback) {\n      oldCallback = callback;\n    } else if (name) {\n      if (typeof name === 'function') {\n        oldCallback = name;\n      } else if (typeof name === 'string') {\n        oldCallback = this[name];\n      }\n    }\n\n    if (oldCallback && (!this.routeDefault || oldCallback !== this.routeDefault)) {\n      var newCallback = function newCallback() {\n        var _oldCallback;\n\n        this.lastFragment = Backbone.history.getFragment();\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return (_oldCallback = oldCallback).call.apply(_oldCallback, [this].concat(args));\n      };\n\n      if (callback) {\n        callback = newCallback;\n      } else if (name) {\n        if (typeof name === 'function') {\n          name = newCallback;\n        } else if (typeof name === 'string') {\n          this[name] = newCallback;\n        }\n      }\n    }\n\n    return Backbone.Router.prototype.route.call(this, _route, name, callback);\n  },\n  routeDefault: function routeDefault() {\n    if (this.lastFragment != null) {\n      this.navigate(this.lastFragment, {\n        trigger: false,\n        replace: true\n      });\n    } else if (this.defaultFragment != null) {\n      this.navigate(this.defaultFragment, {\n        trigger: true\n      });\n    }\n  }\n}); ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// FORM BACKBONE VIEW\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/* exported FormBackboneView */\n\nvar FormBackboneView = Backbone.View.extend({\n  formDefinition: function formDefinition() {\n    var _this2 = this;\n\n    return {\n      id: _.result(this, 'formId'),\n      rootPath: _.result(this, 'rootPath'),\n      success: function success(event) {\n        return _this2.success(event);\n      },\n      useBinding: true,\n      sections: _.result(this, 'sections')\n    };\n  },\n  success: function success(event) {\n    event.preventDefault();\n    this.removeErrors();\n    this.trigger('success');\n    return false;\n  },\n  formScript: function formScript() {\n    this.$form.append('<p><button class=\"btn btn-primary btn-lg\">Submit</button></p>');\n  },\n  render: function render() {\n    this.$el.empty();\n    var cotForm = new CotForm(this.formDefinition());\n    cotForm.render({\n      target: this.$el\n    });\n    cotForm.setModel(this.model);\n    this.$form = $('form', this.$el).eq(0);\n    this.formValidator = this.$form.data('formValidation');\n    this.$alert = $('<div role=\"alert\"></div>');\n    $('.panel:first', this.$form).before(this.$alert);\n    this.$liveRegion = $('.js-aria-live.sr-only, .ui-helper-hidden-accessible').eq(0);\n    this.formScript();\n  },\n  disableFields: function disableFields() {\n    this.$disabledElements = this.$form.find('button, input, select, textarea').filter(':enabled:visible').prop('disabled', true);\n    this.$liveRegion.html('Form fields are disabled');\n  },\n  enableFields: function enableFields() {\n    if (this.$disabledElements) {\n      this.$disabledElements.prop('disabled', false);\n      this.$disabledElements = null;\n    }\n\n    this.$liveRegion.html('Form fields are enabled');\n  },\n  showError: function showError(message) {\n    this.$alert.addClass('alert alert-danger');\n    this.$alert.html(message);\n  },\n  removeErrors: function removeErrors() {\n    this.$alert.removeClass('alert alert-danger');\n    this.$alert.html('');\n  }\n});"],"names":["_routes","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","Array","from","isArray","_arrayLikeToArray","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","_typeof","constructor","prototype","_slicedToArray","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","toString","call","slice","name","test","len","length","arr2","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","ExtendedBackboneCollection","Backbone","Collection","extend","parse","response","options","this","fetch","base","query","arguments","thisQuery","_","result","optionsQuery","split","reduce","accumulator","currentValue","_currentValue$split2","_currentValue$split4","Error","urlError","assign","keys","map","concat","encodeURIComponent","join","url","ExtendedBackboneModel","Model","collection","isNew","id","get","idAttribute","replace","save","val","attrs","attrsInclusive","attributes","data","JSON","stringify","ExtendedBackboneRouter","Router","defaultFragment","routes","hasRouted","execute","callback","args","nextCleanup","cleanupFunction","_this","afterCleanup","cleanupFunctionReturnValue","apply","Promise","then","finalCleanupFunction","routeDefault","finalCleanupFunctionReturnValue","route","_route","oldCallback","newCallback","lastFragment","history","getFragment","_len","_key","navigate","trigger","FormBackboneView","View","formDefinition","_this2","rootPath","success","event","useBinding","sections","preventDefault","removeErrors","formScript","$form","append","render","$el","empty","cotForm","CotForm","target","setModel","model","$","eq","formValidator","$alert","before","$liveRegion","disableFields","$disabledElements","find","filter","prop","html","enableFields","showError","message","addClass","removeClass"],"mappings":"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"}